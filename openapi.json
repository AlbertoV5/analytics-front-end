{"openapi": "3.0.2", "info": {"title": "Patient Data API", "description": "# REST API\n\nWork in Progress", "version": "0.1.0"}, "paths": {"/api/v1/patient/{patient_id}": {"get": {"tags": ["patient"], "summary": "Read Records", "description": "Read records", "operationId": "read_records_api_v1_patient__patient_id__get", "parameters": [{"required": true, "schema": {"title": "Patient Id", "type": "integer"}, "name": "patient_id", "in": "path"}, {"required": false, "schema": {"title": "Complete", "type": "boolean", "default": false}, "name": "complete", "in": "query"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/DatabaseVersionWrapper_PatientComplete_"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/patient/": {"get": {"tags": ["patient"], "summary": "Read Records", "description": "Read records", "operationId": "read_records_api_v1_patient__get", "parameters": [{"required": false, "schema": {"title": "Offset", "type": "integer", "default": 0}, "name": "offset", "in": "query"}, {"required": false, "schema": {"title": "Limit", "type": "integer", "default": 10}, "name": "limit", "in": "query"}, {"required": false, "schema": {"title": "Desc", "type": "boolean", "default": true}, "name": "desc", "in": "query"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/DatabaseVersionWrapper_Patient_"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/diagnosis/": {"get": {"tags": ["diagnosis"], "summary": "Read Diagnosis", "description": "Read diagnosis records", "operationId": "read_diagnosis_api_v1_diagnosis__get", "parameters": [{"required": false, "schema": {"title": "Offset", "type": "integer", "default": 0}, "name": "offset", "in": "query"}, {"required": false, "schema": {"title": "Limit", "type": "integer", "default": 10}, "name": "limit", "in": "query"}, {"required": false, "schema": {"title": "Desc", "type": "boolean", "default": false}, "name": "desc", "in": "query"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/DatabaseVersionWrapper_DiagnosisData_"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/origin/": {"get": {"tags": ["origin"], "summary": "Read Origin", "description": "Read diagnosis records", "operationId": "read_origin_api_v1_origin__get", "parameters": [{"required": false, "schema": {"title": "Offset", "type": "integer", "default": 0}, "name": "offset", "in": "query"}, {"required": false, "schema": {"title": "Limit", "type": "integer", "default": 10}, "name": "limit", "in": "query"}, {"required": false, "schema": {"title": "Desc", "type": "boolean", "default": false}, "name": "desc", "in": "query"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/DatabaseVersionWrapper_Origin_"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/calculator_list": {"get": {"tags": ["calculator"], "summary": "Read List", "description": "Read all calculator names that the user has access to.", "operationId": "read_list_api_v1_calculator_list_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"title": "Response Read List Api V1 Calculator List Get", "type": "object"}}}}}}}, "/api/v1/calculator/{name}/inputs": {"get": {"tags": ["calculator"], "summary": "Read Inputs", "description": "Read valid inputs for calculator.", "operationId": "read_inputs_api_v1_calculator__name__inputs_get", "parameters": [{"required": true, "schema": {"title": "Name", "type": "string"}, "name": "name", "in": "path"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/Inputs"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/calculator/{name}/fields": {"get": {"tags": ["calculator"], "summary": "Read Fields", "description": "Read valid fields for calculator.", "operationId": "read_fields_api_v1_calculator__name__fields_get", "parameters": [{"required": true, "schema": {"title": "Name", "type": "string"}, "name": "name", "in": "path"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/Fields"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/calculator/{name}/prediction": {"post": {"tags": ["calculator"], "summary": "Read Prediction", "description": "Read prediction based on inputs.", "operationId": "read_prediction_api_v1_calculator__name__prediction_post", "parameters": [{"required": true, "schema": {"title": "Name", "type": "string"}, "name": "name", "in": "path"}], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/PatientData"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/Prediction"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/calculator/{name}/metrics": {"get": {"tags": ["calculator"], "summary": "Read Metrics", "description": "Get metrics of calculator for output assessment.", "operationId": "read_metrics_api_v1_calculator__name__metrics_get", "parameters": [{"required": true, "schema": {"title": "Name", "type": "string"}, "name": "name", "in": "path"}, {"required": false, "schema": {"title": "Advanced", "type": "boolean", "default": false}, "name": "advanced", "in": "query"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/Metrics"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}}, "components": {"schemas": {"ClassificationScore": {"title": "ClassificationScore", "required": ["name", "accuracy", "precision", "recall", "f1"], "type": "object", "properties": {"name": {"title": "Name", "type": "string"}, "accuracy": {"title": "Accuracy", "type": "number"}, "precision": {"title": "Precision", "type": "number"}, "recall": {"title": "Recall", "type": "number"}, "f1": {"title": "F1", "type": "number"}}, "description": "Invidual Classification Score."}, "ClassificationScores": {"title": "ClassificationScores", "required": ["scores"], "type": "object", "properties": {"name": {"title": "Name", "type": "string", "default": "Classification"}, "description": {"title": "Description", "type": "string", "default": "Logistic Regression over 3 different thresholds."}, "scores": {"title": "Scores", "type": "array", "items": {"$ref": "#/components/schemas/ClassificationScore"}}}, "description": "Scores for all output of the Classification model."}, "DatabaseVersion": {"title": "DatabaseVersion", "required": ["date"], "type": "object", "properties": {"date": {"title": "Date", "type": "string", "format": "date-time"}, "author": {"title": "Author", "type": "string"}, "description": {"title": "Description", "type": "string"}}}, "DatabaseVersionWrapper_DiagnosisData_": {"title": "DatabaseVersionWrapper[DiagnosisData]", "required": ["result", "version"], "type": "object", "properties": {"result": {"title": "Result", "type": "array", "items": {"$ref": "#/components/schemas/app__schemas__kardias__DiagnosisData"}}, "version": {"$ref": "#/components/schemas/DatabaseVersion"}}, "description": "Wrap any database query result with version information."}, "DatabaseVersionWrapper_Origin_": {"title": "DatabaseVersionWrapper[Origin]", "required": ["result", "version"], "type": "object", "properties": {"result": {"title": "Result", "type": "array", "items": {"$ref": "#/components/schemas/Origin"}}, "version": {"$ref": "#/components/schemas/DatabaseVersion"}}, "description": "Wrap any database query result with version information."}, "DatabaseVersionWrapper_PatientComplete_": {"title": "DatabaseVersionWrapper[PatientComplete]", "required": ["result", "version"], "type": "object", "properties": {"result": {"title": "Result", "type": "array", "items": {"$ref": "#/components/schemas/PatientComplete"}}, "version": {"$ref": "#/components/schemas/DatabaseVersion"}}, "description": "Wrap any database query result with version information."}, "DatabaseVersionWrapper_Patient_": {"title": "DatabaseVersionWrapper[Patient]", "required": ["result", "version"], "type": "object", "properties": {"result": {"title": "Result", "type": "array", "items": {"$ref": "#/components/schemas/app__schemas__kardias__Patient"}}, "version": {"$ref": "#/components/schemas/DatabaseVersion"}}, "description": "Wrap any database query result with version information."}, "Fields": {"title": "Fields", "required": ["id", "title", "subtitle", "description", "version", "numeric", "options"], "type": "object", "properties": {"id": {"title": "Id", "type": "string"}, "title": {"title": "Title", "type": "string"}, "subtitle": {"title": "Subtitle", "type": "string"}, "description": {"title": "Description", "type": "string"}, "version": {"title": "Version", "type": "string"}, "numeric": {"title": "Numeric", "type": "array", "items": {"$ref": "#/components/schemas/NumericField"}}, "options": {"title": "Options", "type": "array", "items": {"$ref": "#/components/schemas/OptionsField"}}}}, "HTTPValidationError": {"title": "HTTPValidationError", "type": "object", "properties": {"detail": {"title": "Detail", "type": "array", "items": {"$ref": "#/components/schemas/ValidationError"}}}}, "Inputs": {"title": "Inputs", "required": ["diagnosis"], "type": "object", "properties": {"diagnosis": {"title": "Diagnosis", "type": "array", "items": {"type": "string"}}}}, "Metrics": {"title": "Metrics", "type": "object", "properties": {"rank_criteria": {"$ref": "#/components/schemas/RankCriteria"}, "rank_stats": {"$ref": "#/components/schemas/RankStatistics"}, "rank_spearman": {"$ref": "#/components/schemas/RankSpearman"}, "pred_score": {"$ref": "#/components/schemas/PredictionScore"}, "clfs_scores": {"$ref": "#/components/schemas/ClassificationScores"}}, "description": "Statistics and Scores for each Model."}, "NumericField": {"title": "NumericField", "required": ["id", "name", "step", "min", "max", "defaultValue"], "type": "object", "properties": {"id": {"title": "Id", "type": "string"}, "name": {"title": "Name", "type": "string"}, "step": {"title": "Step", "type": "number"}, "min": {"title": "Min", "type": "number"}, "max": {"title": "Max", "type": "number"}, "defaultValue": {"title": "Defaultvalue", "type": "number"}}}, "OptionsField": {"title": "OptionsField", "required": ["id", "name", "options", "counter"], "type": "object", "properties": {"id": {"title": "Id", "type": "string"}, "name": {"title": "Name", "type": "string"}, "options": {"title": "Options", "type": "array", "items": {"type": "string"}}, "counter": {"$ref": "#/components/schemas/NumericField"}}}, "Origin": {"title": "Origin", "required": ["token", "origin", "lat", "lng", "altitude"], "type": "object", "properties": {"token": {"title": "Token", "type": "string"}, "origin": {"title": "Origin", "type": "string"}, "lat": {"title": "Lat", "type": "number"}, "lng": {"title": "Lng", "type": "number"}, "altitude": {"title": "Altitude", "type": "integer"}}}, "PatientClassification": {"title": "PatientClassification", "required": ["name", "value"], "type": "object", "properties": {"name": {"title": "Name", "type": "string"}, "value": {"title": "Value", "type": "integer"}}, "description": "Individual Classification outcome. Value in Binary 1 or 0."}, "PatientComplete": {"title": "PatientComplete", "required": ["patient"], "type": "object", "properties": {"patient": {"$ref": "#/components/schemas/app__schemas__schemas__Patient"}, "diagnosis": {"title": "Diagnosis", "type": "array", "items": {"$ref": "#/components/schemas/app__schemas__schemas__DiagnosisData"}}, "origin": {"$ref": "#/components/schemas/PatientOrigin"}}}, "PatientData": {"title": "PatientData", "required": ["diagnosis"], "type": "object", "properties": {"age_days": {"title": "Age Days", "maximum": 40000.0, "minimum": 0.0, "type": "integer", "default": 800}, "weight_kg": {"title": "Weight Kg", "maximum": 300.0, "minimum": 0.0, "type": "number", "default": 8}, "height_cm": {"title": "Height Cm", "maximum": 300.0, "minimum": 0.0, "type": "number", "default": 80}, "cx_prev": {"title": "Cx Prev", "maximum": 20.0, "minimum": 0.0, "type": "integer", "default": 0}, "diagnosis_count": {"title": "Diagnosis Count", "maximum": 20.0, "minimum": 0.0, "type": "integer", "default": 1}, "diagnosis": {"title": "Diagnosis", "type": "array", "items": {"type": "string"}}}, "description": "Data for Patient used as input for models."}, "PatientOrigin": {"title": "PatientOrigin", "required": ["patient_id", "token", "state", "origin", "lat", "lng", "altitude"], "type": "object", "properties": {"patient_id": {"title": "Patient Id", "type": "integer"}, "token": {"title": "Token", "type": "string"}, "state": {"title": "State", "type": "string"}, "origin": {"title": "Origin", "type": "string"}, "lat": {"title": "Lat", "type": "number"}, "lng": {"title": "Lng", "type": "number"}, "altitude": {"title": "Altitude", "type": "integer"}}}, "Prediction": {"title": "Prediction", "required": ["rank", "pred", "clfs"], "type": "object", "properties": {"rank": {"title": "Rank", "type": "integer"}, "pred": {"title": "Pred", "type": "number"}, "clfs": {"title": "Clfs", "type": "array", "items": {"$ref": "#/components/schemas/PatientClassification"}}}, "description": "Patient Outcome from predictions and classifications."}, "PredictionScore": {"title": "PredictionScore", "required": ["r2s", "mse"], "type": "object", "properties": {"name": {"title": "Name", "type": "string", "default": "Prediction"}, "description": {"title": "Description", "type": "string", "default": "Linear Regression over average values of each Rank."}, "r2s": {"title": "R2S", "type": "number"}, "mse": {"title": "Mse", "type": "number"}}, "description": "Score for Linear Regression model."}, "RankAverage": {"title": "RankAverage", "required": ["rank", "count", "age_days", "weight_kg", "height_cm", "cx_prev", "rachs", "diagnosis_count", "stay_days"], "type": "object", "properties": {"rank": {"title": "Rank", "type": "integer"}, "count": {"title": "Count", "type": "integer"}, "age_days": {"title": "Age Days", "type": "number"}, "weight_kg": {"title": "Weight Kg", "type": "number"}, "height_cm": {"title": "Height Cm", "type": "number"}, "cx_prev": {"title": "Cx Prev", "type": "number"}, "rachs": {"title": "Rachs", "type": "number"}, "diagnosis_count": {"title": "Diagnosis Count", "type": "number"}, "stay_days": {"title": "Stay Days", "type": "number"}}, "description": "Averages of historical data for each Rank."}, "RankCriteria": {"title": "RankCriteria", "required": ["criteria"], "type": "object", "properties": {"name": {"title": "Name", "type": "string", "default": "Rank Criteria"}, "description": {"title": "Description", "type": "string", "default": "Numeric values used for Rank sorting criteria."}, "criteria": {"title": "Criteria", "type": "array", "items": {"$ref": "#/components/schemas/RankStat"}}}, "description": "Sorting criteria in order for Rank"}, "RankSpearman": {"title": "RankSpearman", "required": ["scores"], "type": "object", "properties": {"name": {"title": "Name", "type": "string", "default": "Spearman Rank Correlation."}, "description": {"title": "Description", "type": "string", "default": "Correlation between two variables. -1 to 1."}, "scores": {"title": "Scores", "type": "array", "items": {"$ref": "#/components/schemas/SpearmanScore"}}}}, "RankStat": {"title": "RankStat", "required": ["rank", "median", "iqr", "std"], "type": "object", "properties": {"rank": {"title": "Rank", "type": "integer"}, "median": {"title": "Median", "type": "number"}, "iqr": {"title": "Iqr", "type": "number"}, "std": {"title": "Std", "type": "number"}}, "description": "Single rank stats"}, "RankStatistics": {"title": "RankStatistics", "required": ["average"], "type": "object", "properties": {"name": {"title": "Name", "type": "string", "default": "Rank"}, "description": {"title": "Description", "type": "string", "default": "Statistics of each Rank using historical data."}, "average": {"title": "Average", "type": "array", "items": {"$ref": "#/components/schemas/RankAverage"}}}, "description": "Lists various statistics for all historical data for each Rank."}, "SpearmanScore": {"title": "SpearmanScore", "required": ["A", "B", "score"], "type": "object", "properties": {"A": {"title": "A", "type": "string"}, "B": {"title": "B", "type": "string"}, "score": {"title": "Score", "type": "number"}}}, "ValidationError": {"title": "ValidationError", "required": ["loc", "msg", "type"], "type": "object", "properties": {"loc": {"title": "Location", "type": "array", "items": {"anyOf": [{"type": "string"}, {"type": "integer"}]}}, "msg": {"title": "Message", "type": "string"}, "type": {"title": "Error Type", "type": "string"}}}, "app__schemas__kardias__DiagnosisData": {"title": "DiagnosisData", "required": ["token", "diagnosis", "diagnosis_en", "icd11_code", "icd11_title"], "type": "object", "properties": {"token": {"title": "Token", "type": "string"}, "diagnosis": {"title": "Diagnosis", "type": "string"}, "diagnosis_en": {"title": "Diagnosis En", "type": "string"}, "icd11_code": {"title": "Icd11 Code", "type": "string"}, "icd11_title": {"title": "Icd11 Title", "type": "string"}}}, "app__schemas__kardias__Patient": {"title": "Patient", "required": ["patient_id", "gender", "age_days", "weight_kg", "height_cm"], "type": "object", "properties": {"patient_id": {"title": "Patient Id", "type": "integer"}, "gender": {"title": "Gender", "type": "integer"}, "age_days": {"title": "Age Days", "type": "integer"}, "weight_kg": {"title": "Weight Kg", "type": "number"}, "height_cm": {"title": "Height Cm", "type": "number"}, "cx_prev": {"title": "Cx Prev", "type": "integer"}, "rachs": {"title": "Rachs", "type": "integer"}, "stay_days": {"title": "Stay Days", "type": "integer"}, "expired": {"title": "Expired", "type": "integer"}}}, "app__schemas__schemas__DiagnosisData": {"title": "DiagnosisData", "required": ["token", "diagnosis", "diagnosis_en", "icd11_code", "icd11_title"], "type": "object", "properties": {"token": {"title": "Token", "type": "string"}, "diagnosis": {"title": "Diagnosis", "type": "string"}, "diagnosis_en": {"title": "Diagnosis En", "type": "string"}, "icd11_code": {"title": "Icd11 Code", "type": "string"}, "icd11_title": {"title": "Icd11 Title", "type": "string"}}}, "app__schemas__schemas__Patient": {"title": "Patient", "required": ["patient_id", "gender", "age_days", "weight_kg", "height_cm"], "type": "object", "properties": {"patient_id": {"title": "Patient Id", "type": "integer"}, "gender": {"title": "Gender", "type": "integer"}, "age_days": {"title": "Age Days", "type": "integer"}, "weight_kg": {"title": "Weight Kg", "type": "number"}, "height_cm": {"title": "Height Cm", "type": "number"}, "cx_prev": {"title": "Cx Prev", "type": "integer"}, "rachs": {"title": "Rachs", "type": "integer"}, "stay_days": {"title": "Stay Days", "type": "integer"}, "expired": {"title": "Expired", "type": "integer"}}}}}}