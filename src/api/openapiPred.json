{"openapi": "3.0.2", "info": {"title": "Machine Learning API", "description": "# REST API\n\nWork in Progress", "version": "0.1.0"}, "paths": {"/ml/v1/calculator/inputs": {"get": {"tags": ["Calculator"], "summary": "Read Inputs", "description": "Read valid inputs for calculator.", "operationId": "read_inputs_ml_v1_calculator_inputs_get", "parameters": [{"required": true, "schema": {"title": "Name", "type": "string"}, "name": "name", "in": "query"}, {"required": false, "schema": {"title": "Aws", "type": "boolean", "default": true}, "name": "aws", "in": "query"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/Inputs"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/ml/v1/calculator/prediction": {"post": {"tags": ["Calculator"], "summary": "Read Prediction", "description": "Read prediction based on inputs.", "operationId": "read_prediction_ml_v1_calculator_prediction_post", "parameters": [{"required": true, "schema": {"title": "Name", "type": "string"}, "name": "name", "in": "query"}, {"required": false, "schema": {"title": "Aws", "type": "boolean", "default": true}, "name": "aws", "in": "query"}], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/PatientData"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/Prediction"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/ml/v1/calculator/metrics": {"get": {"tags": ["Calculator"], "summary": "Read Metrics", "description": "Get metrics of calculator for output assessment.", "operationId": "read_metrics_ml_v1_calculator_metrics_get", "parameters": [{"required": true, "schema": {"title": "Name", "type": "string"}, "name": "name", "in": "query"}, {"required": false, "schema": {"title": "Aws", "type": "boolean", "default": true}, "name": "aws", "in": "query"}, {"required": false, "schema": {"title": "Advanced", "type": "boolean", "default": false}, "name": "advanced", "in": "query"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/Metrics"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/ml/v1/calculator/test": {"get": {"tags": ["Calculator"], "summary": "Test", "description": "Delete me", "operationId": "test_ml_v1_calculator_test_get", "parameters": [{"required": false, "schema": {"title": "Aws", "type": "boolean", "default": true}, "name": "aws", "in": "query"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"title": "Response Test Ml V1 Calculator Test Get", "type": "object"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/ml/v1/calculator/list": {"get": {"tags": ["Calculator"], "summary": "Read List", "description": "Read all calculator names.", "operationId": "read_list_ml_v1_calculator_list_get", "parameters": [{"required": false, "schema": {"title": "Aws", "type": "boolean", "default": true}, "name": "aws", "in": "query"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"title": "Response Read List Ml V1 Calculator List Get", "type": "object"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}}, "components": {"schemas": {"ClassificationScore": {"title": "ClassificationScore", "required": ["name", "accuracy", "precision", "recall", "f1"], "type": "object", "properties": {"name": {"title": "Name", "type": "string"}, "accuracy": {"title": "Accuracy", "type": "number"}, "precision": {"title": "Precision", "type": "number"}, "recall": {"title": "Recall", "type": "number"}, "f1": {"title": "F1", "type": "number"}}, "description": "Invidual Classification Score."}, "ClassificationScores": {"title": "ClassificationScores", "required": ["scores"], "type": "object", "properties": {"name": {"title": "Name", "type": "string", "default": "Classification"}, "description": {"title": "Description", "type": "string", "default": "Logistic Regression over 3 different thresholds."}, "scores": {"title": "Scores", "type": "array", "items": {"$ref": "#/components/schemas/ClassificationScore"}}}, "description": "Scores for all output of the Classification model."}, "HTTPValidationError": {"title": "HTTPValidationError", "type": "object", "properties": {"detail": {"title": "Detail", "type": "array", "items": {"$ref": "#/components/schemas/ValidationError"}}}}, "Inputs": {"title": "Inputs", "required": ["diagnosis"], "type": "object", "properties": {"diagnosis": {"title": "Diagnosis", "type": "array", "items": {"type": "string"}}}}, "Metrics": {"title": "Metrics", "type": "object", "properties": {"rank_criteria": {"$ref": "#/components/schemas/RankCriteria"}, "rank_stats": {"$ref": "#/components/schemas/RankStatistics"}, "rank_spearman": {"$ref": "#/components/schemas/RankSpearman"}, "pred_score": {"$ref": "#/components/schemas/PredictionScore"}, "clfs_scores": {"$ref": "#/components/schemas/ClassificationScores"}}, "description": "Statistics and Scores for each Model."}, "PatientClassification": {"title": "PatientClassification", "required": ["name", "value"], "type": "object", "properties": {"name": {"title": "Name", "type": "string"}, "value": {"title": "Value", "type": "integer"}}, "description": "Individual Classification outcome. Value in Binary 1 or 0."}, "PatientData": {"title": "PatientData", "required": ["diagnosis"], "type": "object", "properties": {"age_days": {"title": "Age Days", "maximum": 40000.0, "minimum": 0.0, "type": "integer", "default": 800}, "weight_kg": {"title": "Weight Kg", "maximum": 300.0, "minimum": 0.0, "type": "number", "default": 8}, "height_cm": {"title": "Height Cm", "maximum": 300.0, "minimum": 0.0, "type": "number", "default": 80}, "cx_prev": {"title": "Cx Prev", "maximum": 20.0, "minimum": 0.0, "type": "integer", "default": 0}, "diagnosis_count": {"title": "Diagnosis Count", "maximum": 20.0, "minimum": 0.0, "type": "integer", "default": 1}, "diagnosis": {"title": "Diagnosis", "type": "array", "items": {"type": "string"}}}, "description": "Data for Patient used as input for models."}, "Prediction": {"title": "Prediction", "required": ["rank", "pred", "clfs"], "type": "object", "properties": {"rank": {"title": "Rank", "type": "integer"}, "pred": {"title": "Pred", "type": "number"}, "clfs": {"title": "Clfs", "type": "array", "items": {"$ref": "#/components/schemas/PatientClassification"}}}, "description": "Patient Outcome from predictions and classifications."}, "PredictionScore": {"title": "PredictionScore", "required": ["r2s", "mse"], "type": "object", "properties": {"name": {"title": "Name", "type": "string", "default": "Prediction"}, "description": {"title": "Description", "type": "string", "default": "Linear Regression over average values of each Rank."}, "r2s": {"title": "R2S", "type": "number"}, "mse": {"title": "Mse", "type": "number"}}, "description": "Score for Linear Regression model."}, "RankAverage": {"title": "RankAverage", "required": ["rank", "count", "age_days", "weight_kg", "height_cm", "cx_prev", "rachs", "diagnosis_count", "stay_days"], "type": "object", "properties": {"rank": {"title": "Rank", "type": "integer"}, "count": {"title": "Count", "type": "integer"}, "age_days": {"title": "Age Days", "type": "number"}, "weight_kg": {"title": "Weight Kg", "type": "number"}, "height_cm": {"title": "Height Cm", "type": "number"}, "cx_prev": {"title": "Cx Prev", "type": "number"}, "rachs": {"title": "Rachs", "type": "number"}, "diagnosis_count": {"title": "Diagnosis Count", "type": "number"}, "stay_days": {"title": "Stay Days", "type": "number"}}, "description": "Averages of historical data for each Rank."}, "RankCriteria": {"title": "RankCriteria", "required": ["criteria"], "type": "object", "properties": {"name": {"title": "Name", "type": "string", "default": "Rank Criteria"}, "description": {"title": "Description", "type": "string", "default": "Numeric values used for Rank sorting criteria."}, "criteria": {"title": "Criteria", "type": "array", "items": {"$ref": "#/components/schemas/RankStat"}}}, "description": "Sorting criteria in order for Rank"}, "RankSpearman": {"title": "RankSpearman", "required": ["scores"], "type": "object", "properties": {"name": {"title": "Name", "type": "string", "default": "Spearman Rank Correlation."}, "description": {"title": "Description", "type": "string", "default": "Correlation between two variables. -1 to 1."}, "scores": {"title": "Scores", "type": "array", "items": {"$ref": "#/components/schemas/SpearmanScore"}}}}, "RankStat": {"title": "RankStat", "required": ["rank", "median", "iqr", "std"], "type": "object", "properties": {"rank": {"title": "Rank", "type": "integer"}, "median": {"title": "Median", "type": "number"}, "iqr": {"title": "Iqr", "type": "number"}, "std": {"title": "Std", "type": "number"}}, "description": "Single rank stats"}, "RankStatistics": {"title": "RankStatistics", "required": ["average"], "type": "object", "properties": {"name": {"title": "Name", "type": "string", "default": "Rank"}, "description": {"title": "Description", "type": "string", "default": "Statistics of each Rank using historical data."}, "average": {"title": "Average", "type": "array", "items": {"$ref": "#/components/schemas/RankAverage"}}}, "description": "Lists various statistics for all historical data for each Rank."}, "SpearmanScore": {"title": "SpearmanScore", "required": ["A", "B", "score"], "type": "object", "properties": {"A": {"title": "A", "type": "string"}, "B": {"title": "B", "type": "string"}, "score": {"title": "Score", "type": "number"}}}, "ValidationError": {"title": "ValidationError", "required": ["loc", "msg", "type"], "type": "object", "properties": {"loc": {"title": "Location", "type": "array", "items": {"anyOf": [{"type": "string"}, {"type": "integer"}]}}, "msg": {"title": "Message", "type": "string"}, "type": {"title": "Error Type", "type": "string"}}}}}}